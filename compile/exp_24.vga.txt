  call main
  exit

label sub
  push bp
  mov sp bp
  add_sp -1
  mov [bp:2] reg_a
  mov reg_a [bp:-1]
  add_sp -1
  mov [bp:-1] reg_a
  mov reg_a [bp:-2]
  mov bp sp
  pop bp
  ret

label main
  push bp
  mov sp bp
  mov 1 reg_a
  push reg_a
  _cmt call~~sub
  call sub
  add_sp 1
  mov bp sp
  pop bp
  ret
