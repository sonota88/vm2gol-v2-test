  call main
  exit

label add
  push bp
  mov sp bp

  # 関数の処理本体
  add_sp -1
  mov [bp:2] reg_a
  push reg_a
  mov [bp:3] reg_a
  push reg_a
  pop reg_b
  pop reg_a
  add_ab
  mov reg_a [bp:-1]
  mov [bp:-1] reg_a

  mov bp sp
  pop bp
  ret

  mov bp sp
  pop bp
  ret

label main
  push bp
  mov sp bp

  # 関数の処理本体
  add_sp -1
  mov 2 reg_a
  push reg_a
  mov 1 reg_a
  push reg_a
  _cmt call~~add
  call add
  add_sp 2
  mov reg_a [bp:-1]

  mov bp sp
  pop bp
  ret
